{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n\n  // 1. Инициализация иконок (Lucide)\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // 2. Настройка GSAP + Lenis\n  gsap.registerPlugin(ScrollTrigger);\n\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smooth: true,\n      direction: 'vertical',\n  });\n\n  // Связка кадров Lenis и GSAP\n  lenis.on('scroll', ScrollTrigger.update);\n\n  gsap.ticker.add((time) => {\n      lenis.raf(time * 1000);\n  });\n\n  gsap.ticker.lagSmoothing(0);\n\n  // 3. Анимации (GSAP)\n  // Анимация Hero\n  const heroTl = gsap.timeline();\n  heroTl.from('.hero__title', { y: 50, opacity: 0, duration: 1, ease: 'power3.out' })\n        .from('.hero__subtitle', { y: 30, opacity: 0, duration: 0.8 }, '-=0.6')\n        .from('.hero__buttons', { y: 20, opacity: 0, duration: 0.8 }, '-=0.6')\n        .from('.hero__visual', { scale: 0.9, opacity: 0, duration: 1.2 }, '-=1');\n\n  // Анимация секций\n  const sections = document.querySelectorAll('.section-title, .feature-card, .metric-card, .blog-card, .contact__container, .step-card, .innovation__wrapper');\n\n  sections.forEach((section) => {\n      gsap.fromTo(section,\n          { y: 50, opacity: 0, visibility: 'hidden' },\n          {\n              scrollTrigger: {\n                  trigger: section,\n                  start: \"top 85%\",\n                  toggleActions: \"play none none reverse\"\n              },\n              y: 0, opacity: 1, visibility: 'visible', duration: 0.8, ease: \"power2.out\",\n              onStart: () => { section.style.visibility = 'visible'; }\n          }\n      );\n  });\n\n  window.addEventListener(\"load\", () => {\n      ScrollTrigger.refresh();\n  });\n\n  // 4. Мобильное Меню\n  const burger = document.querySelector('.header__burger');\n  const nav = document.querySelector('.header__nav');\n  const navLinks = document.querySelectorAll('.header__link');\n  const body = document.body;\n\n  const toggleMenu = () => {\n      if (!nav || !burger) return;\n      nav.classList.toggle('is-active');\n      burger.classList.toggle('is-active');\n      body.classList.toggle('no-scroll');\n  };\n\n  if (burger) burger.addEventListener('click', toggleMenu);\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          if (nav.classList.contains('is-active')) toggleMenu();\n      });\n  });\n\n  // 5. Валидация формы\n  const contactForm = document.getElementById('contactForm');\n\n  if (contactForm) {\n      const num1 = Math.floor(Math.random() * 5) + 1;\n      const num2 = Math.floor(Math.random() * 5) + 1;\n      const captchaLabel = document.getElementById('captchaLabel');\n      const captchaInput = document.getElementById('captchaInput');\n\n      if (captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n      contactForm.addEventListener('submit', function(e) {\n          e.preventDefault();\n          let isValid = true;\n          const statusDiv = document.querySelector('.form-status');\n\n          document.querySelectorAll('.form-group input').forEach(inp => inp.classList.remove('error'));\n          document.querySelectorAll('.form-checkbox').forEach(box => box.classList.remove('error'));\n\n          // Валидация полей\n          const name = document.getElementById('name');\n          if (name && name.value.trim().length < 2) { name.classList.add('error'); isValid = false; }\n\n          const email = document.getElementById('email');\n          if (email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email.value)) { email.classList.add('error'); isValid = false; }\n\n          const phone = document.getElementById('phone');\n          if (phone && (phone.value.length < 8 || !/^[0-9]+$/.test(phone.value))) { phone.classList.add('error'); isValid = false; }\n\n          // Капча\n          if (captchaInput && parseInt(captchaInput.value) !== (num1 + num2)) {\n              captchaInput.classList.add('error'); isValid = false;\n              statusDiv.textContent = 'Ошибка в примере'; statusDiv.style.color = '#ef4444';\n          }\n\n          // Чекбокс\n          const policyCheckbox = document.getElementById('policy');\n          if (!policyCheckbox.checked) {\n              policyCheckbox.closest('.form-checkbox').classList.add('error'); isValid = false;\n          }\n\n          if (isValid) {\n              const btn = contactForm.querySelector('button[type=\"submit\"]');\n              const originalText = btn.textContent;\n              btn.textContent = 'Отправка...';\n              btn.disabled = true;\n\n              setTimeout(() => {\n                  btn.textContent = originalText;\n                  btn.disabled = false;\n                  contactForm.reset();\n                  statusDiv.textContent = 'Спасибо! Мы свяжемся с вами.';\n                  statusDiv.className = 'form-status success';\n                  statusDiv.style.color = '#10b981';\n                  if (captchaInput) captchaInput.value = '';\n              }, 1500);\n          } else {\n              if (!statusDiv.textContent || statusDiv.textContent === 'Спасибо! Мы свяжемся с вами.') {\n                   statusDiv.textContent = 'Проверьте ошибки.'; statusDiv.style.color = '#ef4444';\n              }\n          }\n      });\n\n      // Снятие ошибки с чекбокса\n      const policyCheckbox = document.getElementById('policy');\n      if (policyCheckbox) {\n          policyCheckbox.addEventListener('change', function() {\n              if (this.checked) this.closest('.form-checkbox').classList.remove('error');\n          });\n      }\n  }\n\n  // 6. Cookie Popup\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptBtn = document.getElementById('acceptCookies');\n\n  if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => { cookiePopup.classList.add('is-visible'); }, 2000);\n  }\n  if (acceptBtn) {\n      acceptBtn.addEventListener('click', () => {\n          localStorage.setItem('cookiesAccepted', 'true');\n          cookiePopup.classList.remove('is-visible');\n      });\n  }\n});"],"names":["lenis","t","time","section","burger","nav","navLinks","body","toggleMenu","link","contactForm","num1","num2","captchaLabel","captchaInput","e","isValid","statusDiv","inp","box","name","email","phone","policyCheckbox","btn","originalText","cookiePopup","acceptBtn"],"mappings":"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"}